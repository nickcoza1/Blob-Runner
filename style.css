/* ---------- keyframes ---------- */
@keyframes pulse  {0%,100%{transform:scale(1);}50%{transform:scale(1.1);} }
@keyframes flow   {0%{background-position:0% 50%;}100%{background-position:100% 50%;}}
@keyframes float  {0%{transform:translateY(0);}100%{transform:translateY(-15px);} }
@keyframes bounce {0%,100%{transform:scale(1);}50%{transform:scale(1.4);} }
@keyframes hueSpin{0%{filter:hue-rotate(0);}100%{filter:hue-rotate(360deg);}}

/* extra keyframes for the rainbow title */
@keyframes rainbowShift{
  0%{background-position:0% 50%;}
  100%{background-position:100% 50%;}
}
@keyframes titlePulse{
  0%,100%{transform:scale(1);filter:drop-shadow(0 0 8px #fff);}
  50%{transform:scale(1.15) rotate(1deg);filter:drop-shadow(0 0 25px #fff);}
}

/* ---------- global layout ---------- */
html,body{height:100%;margin:0;overflow:hidden;font-family:"Comic Sans MS",system-ui,sans-serif;}
body{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:linear-gradient(45deg,#ff0077,#00eaff,#ffd500,#9d00ff,#00ff95);
  background-size:800% 800%;animation:flow 30s linear infinite;
}

/* ---------- giant drooling face ---------- */
.bg-drool{
  position:fixed;inset:0;display:flex;justify-content:center;align-items:center;
  font-size:60vw;opacity:.25;line-height:1;pointer-events:none;z-index:0;
  animation:hueSpin 12s linear infinite;
}

/* ---------- super-trippy title ---------- */
.trippy-title{
  font-size:3.5rem;font-weight:900;letter-spacing:3px;
  background:linear-gradient(90deg,#ff0066,#ffdd00,#00ffea,#9d00ff,#ff0066);
  background-size:500% 500%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:rainbowShift 4s linear infinite,
           titlePulse 2.5s ease-in-out infinite;
}

/* ---------- trippy UI wrapper (rest) ---------- */
.trippy{
  position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;
  animation:hueSpin 15s linear infinite;
}
#score{font-size:1.4rem;color:#fff;text-shadow:0 0 6px #000;}

/* ---------- game canvas ---------- */
#game{
  border:4px solid #fff;
  box-shadow:0 0 15px #fff,0 0 25px #ff00e0,0 0 35px #00eaff;
  background:#000;              /* opaque */
  margin-top:.7rem;
  filter:none!important;         /* keep true colours */
  position:relative;z-index:2;
}

/* ---------- game-over panel ---------- */
#game-over[hidden]{display:none!important;}
#game-over{
  position:absolute;inset:0;background:rgba(0,0,0,.8);
  border:3px solid #00f6ff;border-radius:12px;
  box-shadow:0 0 20px #00f6ff,0 0 30px #ff00e0;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:1rem;color:#fff;font-size:1.8rem;z-index:3;
  animation:hueSpin 15s linear infinite;
}
#restart-btn{
  padding:.7rem 1.6rem;font-size:1.1rem;border:none;border-radius:50px;color:#fff;
  background:linear-gradient(90deg,#ff0077,#ffd500,#00eaff,#9d00ff);
  background-size:400% 400%;animation:flow 6s linear infinite;
  cursor:pointer;box-shadow:0 0 10px #fff,0 0 20px #ff00e0;
}
#restart-btn:hover{filter:brightness(1.2);}

/* ---------- floating mini emojis ---------- */
.emoji-swarm{position:fixed;inset:0;pointer-events:none;z-index:1;}
.swarm-emoji{
  position:absolute;font-size:3rem;animation:float 6s ease-in-out infinite alternate;
  transition:transform .25s;
}
.swarm-emoji:hover{animation:bounce .4s ease;transform:scale(1.5);}
